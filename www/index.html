<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- 

	Pieter Michels - 2009
	
	IMPORTANT
	
		-	wmode = transparent
		-	jQuery needed for event listening
		-	load sequence: 
				1. jQuery
				2. fbFlashBridge
				3. Flash embedding
				4. in body the Featureloader.js.php
				5. document ready (jQuery) FBFlashBridgeInit
		-	FBFlashBridgeInit( api key , xd_receiver url , reference to flash object )

 -->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://www.facebook.com/2008/fbml">
	<head>
		<title>Flash Bridge for Facebook Connect</title>
		
		<script src="assets/js/jquery-1.3.min.js" type="text/javascript"></script>
		
		<script src="assets/js/fbFlashBridge.js" type="text/javascript"></script>
		
		<link rel="stylesheet" href="assets/css/style.css" media="all" />
		
		<script type="text/javascript" src="assets/js/swfobject.js"></script>
		<script type="text/javascript">
			
			var flashvars = { };
			var params = {allowFullScreen : true, allowScriptAccess: "always", wmode: "transparent"};
			var attributes = {id: "flash_flash"};
			
			swfobject.embedSWF("assets/swf/FBFlashBridge.swf", "flash_alternative", "100%", "100%", "9.0.0", "assets/swf/playerProductInstall.swf", flashvars, params, attributes);
			
			// EXTRA
			// swfobject.getObjectById(objectIdStr); (bv. swfobject.getObjectById(objectIdStr).callFunction();)
			// swfobject.getQueryParamValue(paramStr); (bv. var flashvars = {LANG: swfobject.getQueryParamValue("LANG")};)
		</script>
		
	</head>
	<body>
		
		<script src="http://static.ak.connect.facebook.com/js/api_lib/v0.4/FeatureLoader.js.php" type="text/javascript"></script>
		
		<!-- -------------------------------------------------------------------------------------------- -->
		
		
		<div id="flash_alternative">
		
			<!-- CONNECT -->
			<a href="#" onclick="FBFlashBridgeLogIn(); return false;" >Connect</a><br />
			<!-- LOGOUT -->
			<a href="#" onclick="FBFlashBridgeLogout(); return false;">Logout of Facebook</a><br />
			<!-- PERMISSIONS -->
			<a href="#" onclick="FBFlashBridgePromptPermission('offline_access'); return false;">Ask Offline Permissions</a><br />
			<!-- PERMISSIONS -->
			<a href="#" onclick="FBFlashBridgePromptPermission('status_update'); return false;">Ask Status Permissions</a><br />
			<!-- SET EMAIL PERMISSIONS -->
			<a href="#" onclick="FBFlashBridgePromptPermission('email'); return false;">Receive Email Updates</a><br />
			<!-- POST A FEED -->
			<a href="#" onclick="FBFlashBridgePublishFeedStory();">Post Feed</a><br />
			<!-- SET STATUS -->
			<a href="#" onclick="FBFlashBridgeSetStatus();">Set Status</a><br />
			<!-- GET ALL FRIENDS -->
			<a href="#" onclick="FBFlashBridgeGetFriendsList();">Get Friends</a>
	
			<ul id="friendsinfolist"></ul>
			
		</div>
		
		
		<!-- -------------------------------------------------------------------------------------------- -->
		
		<script type="text/javascript">

			$(document).ready(function()
			{
				setTimeout(delayedFBFlashBridgeInit, 500);
			});
			
			function delayedFBFlashBridgeInit()
			{
				FBFlashBridgeInit("1e8311d998c1e90b115dca95074697fa", "http://stream.microsite.be/cecemel/xd_receiver.htm", swfobject.getObjectById("flash_flash"));
			}

		</script>
	
	</body>
</html>
